<!--<!DOCTYPE html>-->
<!--<html lang="ru" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <title>Добавить автомобиль - Админ панель</title>-->
<!--</head>-->
<!--<body>-->
<!--<h1>Добавить новый автомобиль</h1>-->

<!--<div style="margin-bottom: 20px;">-->
<!--  <a href="/admin/vehicles">← Назад к списку</a>-->
<!--</div>-->

<!--&lt;!&ndash; Сообщения об ошибках &ndash;&gt;-->
<!--<div th:if="${errorMessage}" style="color: red; padding: 10px; border: 1px solid red; margin-bottom: 20px;">-->
<!--  <span th:text="${errorMessage}"></span>-->
<!--</div>-->

<!--<form th:action="@{/admin/vehicles/create}" th:object="${vehicle}" method="post" enctype="multipart/form-data">-->

<!--  &lt;!&ndash; Основная информация &ndash;&gt;-->
<!--  <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc;">-->
<!--    <legend>Основная информация</legend>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Марка *:</label><br>-->
<!--      <input type="text" th:field="*{brand}" style="width: 300px; padding: 5px;" required>-->
<!--      <span th:if="${#fields.hasErrors('brand')}" style="color: red;" th:errors="*{brand}"></span>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Модель *:</label><br>-->
<!--      <input type="text" th:field="*{model}" style="width: 300px; padding: 5px;" required>-->
<!--      <span th:if="${#fields.hasErrors('model')}" style="color: red;" th:errors="*{model}"></span>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Год:</label><br>-->
<!--      <input type="text" th:field="*{year}" style="width: 100px; padding: 5px;" placeholder="2024">-->
<!--      <span th:if="${#fields.hasErrors('year')}" style="color: red;" th:errors="*{year}"></span>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Номерной знак:</label><br>-->
<!--      <input type="text" th:field="*{licensePlate}" style="width: 200px; padding: 5px;" placeholder="AB123CD">-->
<!--      <span th:if="${#fields.hasErrors('licensePlate')}" style="color: red;" th:errors="*{licensePlate}"></span>-->
<!--    </div>-->
<!--  </fieldset>-->

<!--  &lt;!&ndash; Класс и характеристики &ndash;&gt;-->
<!--  <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc;">-->
<!--    <legend>Класс и характеристики</legend>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Класс автомобиля *:</label><br>-->
<!--      <select th:field="*{vehicleClass}" style="width: 200px; padding: 5px;" required>-->
<!--        <option value="">Выберите класс</option>-->
<!--        <option th:each="vClass : ${vehicleClasses}" th:value="${vClass}" th:text="${vClass}"></option>-->
<!--      </select>-->
<!--      <span th:if="${#fields.hasErrors('vehicleClass')}" style="color: red;" th:errors="*{vehicleClass}"></span>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Количество пассажиров *:</label><br>-->
<!--      <input type="number" th:field="*{passengerCapacity}" style="width: 100px; padding: 5px;" min="1" max="20" required>-->
<!--      <span th:if="${#fields.hasErrors('passengerCapacity')}" style="color: red;" th:errors="*{passengerCapacity}"></span>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Вместимость багажа (чемоданов) *:</label><br>-->
<!--      <input type="number" th:field="*{luggageCapacity}" style="width: 100px; padding: 5px;" min="0" required>-->
<!--      <span th:if="${#fields.hasErrors('luggageCapacity')}" style="color: red;" th:errors="*{luggageCapacity}"></span>-->
<!--    </div>-->
<!--  </fieldset>-->

<!--  &lt;!&ndash; Удобства &ndash;&gt;-->
<!--  <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc;">-->
<!--    <legend>Удобства</legend>-->

<!--    <div style="margin-bottom: 10px;">-->
<!--      <input type="checkbox" th:field="*{hasWifi}" id="hasWifi">-->
<!--      <label for="hasWifi">Wi-Fi</label>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 10px;">-->
<!--      <input type="checkbox" th:field="*{hasAirConditioning}" id="hasAirConditioning">-->
<!--      <label for="hasAirConditioning">Кондиционер</label>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 10px;">-->
<!--      <input type="checkbox" th:field="*{hasLeatherSeats}" id="hasLeatherSeats">-->
<!--      <label for="hasLeatherSeats">Кожаные сиденья</label>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <input type="checkbox" th:field="*{hasChildSeat}" id="hasChildSeat">-->
<!--      <label for="hasChildSeat">Детские кресла</label>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Дополнительные особенности:</label><br>-->
<!--      <textarea th:field="*{additionalFeatures}" style="width: 400px; height: 80px; padding: 5px;" placeholder="Опишите дополнительные особенности..."></textarea>-->
<!--    </div>-->
<!--  </fieldset>-->

<!--  &lt;!&ndash; Изображение и описание &ndash;&gt;-->
<!--  <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc;">-->
<!--    <legend>Изображение и описание</legend>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Изображение:</label><br>-->
<!--      <input type="file" th:field="*{image}" accept="image/*" style="padding: 5px;">-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Описание:</label><br>-->
<!--      <textarea th:field="*{description}" style="width: 400px; height: 100px; padding: 5px;" placeholder="Подробное описание автомобиля..."></textarea>-->
<!--    </div>-->
<!--  </fieldset>-->

<!--  &lt;!&ndash; Технические характеристики &ndash;&gt;-->
<!--  <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc;">-->
<!--    <legend>Технические характеристики</legend>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Тип топлива:</label><br>-->
<!--      <select th:field="*{fuelType}" style="width: 200px; padding: 5px;">-->
<!--        <option value="">Выберите тип топлива</option>-->
<!--        <option th:each="fuel : ${fuelTypes}" th:value="${fuel}" th:text="${fuel}"></option>-->
<!--      </select>-->
<!--    </div>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <label>Объем двигателя:</label><br>-->
<!--      <input type="text" th:field="*{engineCapacity}" style="width: 150px; padding: 5px;" placeholder="2.0L">-->
<!--    </div>-->
<!--  </fieldset>-->

<!--  &lt;!&ndash; Статус &ndash;&gt;-->
<!--  <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc;">-->
<!--    <legend>Статус</legend>-->

<!--    <div style="margin-bottom: 15px;">-->
<!--      <input type="checkbox" th:field="*{active}" id="active" checked>-->
<!--      <label for="active">Активен (доступен для бронирования)</label>-->
<!--    </div>-->
<!--  </fieldset>-->

<!--  &lt;!&ndash; Кнопки &ndash;&gt;-->
<!--  <div style="margin-top: 20px;">-->
<!--    <button type="submit" style="background-color: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">-->
<!--      Создать автомобиль-->
<!--    </button>-->
<!--    <a href="/admin/vehicles" style="background-color: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">-->
<!--      Отмена-->
<!--    </a>-->
<!--  </div>-->
<!--</form>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Добавить автомобиль - Админ панель</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f8f9fa; }
    .container { max-width: 800px; margin: 0 auto; background-color: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; padding-bottom: 15px; border-bottom: 2px solid #007bff; }
    .breadcrumb { margin-bottom: 20px; color: #6c757d; }
    .breadcrumb a { color: #007bff; text-decoration: none; }
    .alert { padding: 12px; margin-bottom: 20px; border-radius: 4px; }
    .alert-error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; display: inline-block; margin-right: 10px; }
    .btn-success { background-color: #28a745; color: white; }
    .btn-secondary { background-color: #6c757d; color: white; }
    .btn:hover { opacity: 0.8; }
    fieldset { margin-bottom: 25px; padding: 20px; border: 2px solid #e9ecef; border-radius: 6px; }
    legend { font-weight: bold; color: #495057; padding: 0 10px; }
    .form-row { display: flex; gap: 20px; margin-bottom: 20px; }
    .form-group { flex: 1; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: bold; color: #495057; }
    .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ced4da; border-radius: 4px; font-size: 14px; }
    .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #007bff; box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); }
    .error { color: #dc3545; font-size: 12px; margin-top: 5px; }
    .required { color: #dc3545; }
    .checkbox-group { display: flex; flex-wrap: wrap; gap: 20px; }
    .checkbox-item { display: flex; align-items: center; }
    .checkbox-item input[type="checkbox"] { margin-right: 8px; }
    .image-preview { max-width: 200px; max-height: 150px; border: 1px solid #dee2e6; border-radius: 4px; margin-top: 10px; }
    .help-text { font-size: 12px; color: #6c757d; margin-top: 5px; }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>🚗 Добавить новый автомобиль</h1>
  </div>

  <div class="breadcrumb">
    <a href="/admin">Админ-панель</a> >
    <a href="/admin/vehicles">Автомобили</a> >
    <span>Добавить новый</span>
  </div>

  <!-- Сообщения об ошибках -->
  <div th:if="${errorMessage}" class="alert alert-error">
    ❌ <span th:text="${errorMessage}"></span>
  </div>

  <form th:action="@{/admin/vehicles/create}" th:object="${vehicle}" method="post" enctype="multipart/form-data">

    <!-- Основная информация -->
    <fieldset>
      <legend>📋 Основная информация</legend>

      <div class="form-row">
        <div class="form-group">
          <label for="brand">Марка <span class="required">*</span></label>
          <input type="text" id="brand" th:field="*{brand}" placeholder="Mercedes, BMW, Audi..." required>
          <span th:if="${#fields.hasErrors('brand')}" class="error" th:errors="*{brand}"></span>
        </div>

        <div class="form-group">
          <label for="model">Модель <span class="required">*</span></label>
          <input type="text" id="model" th:field="*{model}" placeholder="Vito, Sprinter, E-Class..." required>
          <span th:if="${#fields.hasErrors('model')}" class="error" th:errors="*{model}"></span>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="year">Год выпуска</label>
          <input type="text" id="year" th:field="*{year}" placeholder="2024" pattern="[0-9]{4}">
          <span th:if="${#fields.hasErrors('year')}" class="error" th:errors="*{year}"></span>
          <div class="help-text">Формат: YYYY (например, 2024)</div>
        </div>

        <div class="form-group">
          <label for="licensePlate">Номерной знак</label>
          <input type="text" id="licensePlate" th:field="*{licensePlate}" placeholder="AB123CD" style="text-transform: uppercase;">
          <span th:if="${#fields.hasErrors('licensePlate')}" class="error" th:errors="*{licensePlate}"></span>
        </div>
      </div>
    </fieldset>

    <!-- Класс и характеристики -->
    <fieldset>
      <legend>🏆 Класс и характеристики</legend>

      <div class="form-row">
        <div class="form-group">
          <label for="vehicleClass">Класс автомобиля <span class="required">*</span></label>
          <select id="vehicleClass" th:field="*{vehicleClass}" required>
            <option value="">Выберите класс</option>
            <option th:each="vClass : ${vehicleClasses}" th:value="${vClass}" th:text="${vClass}"></option>
          </select>
          <span th:if="${#fields.hasErrors('vehicleClass')}" class="error" th:errors="*{vehicleClass}"></span>
        </div>

        <div class="form-group">
          <label for="passengerCapacity">Количество пассажиров <span class="required">*</span></label>
          <input type="number" id="passengerCapacity" th:field="*{passengerCapacity}" min="1" max="20" required>
          <span th:if="${#fields.hasErrors('passengerCapacity')}" class="error" th:errors="*{passengerCapacity}"></span>
        </div>

        <div class="form-group">
          <label for="luggageCapacity">Вместимость багажа (чемоданов) <span class="required">*</span></label>
          <input type="number" id="luggageCapacity" th:field="*{luggageCapacity}" min="0" required>
          <span th:if="${#fields.hasErrors('luggageCapacity')}" class="error" th:errors="*{luggageCapacity}"></span>
        </div>
      </div>
    </fieldset>

    <!-- Удобства -->
    <fieldset>
      <legend>🎯 Удобства и комфорт</legend>

      <div class="checkbox-group">
        <div class="checkbox-item">
          <input type="checkbox" id="hasWifi" th:field="*{hasWifi}">
          <label for="hasWifi">📶 Wi-Fi</label>
        </div>

        <div class="checkbox-item">
          <input type="checkbox" id="hasAirConditioning" th:field="*{hasAirConditioning}">
          <label for="hasAirConditioning">❄️ Кондиционер</label>
        </div>

        <div class="checkbox-item">
          <input type="checkbox" id="hasLeatherSeats" th:field="*{hasLeatherSeats}">
          <label for="hasLeatherSeats">🪑 Кожаные сиденья</label>
        </div>

        <div class="checkbox-item">
          <input type="checkbox" id="hasChildSeat" th:field="*{hasChildSeat}">
          <label for="hasChildSeat">👶 Детские кресла</label>
        </div>
      </div>

      <div class="form-group" style="margin-top: 20px;">
        <label for="additionalFeatures">Дополнительные особенности</label>
        <textarea id="additionalFeatures" th:field="*{additionalFeatures}" rows="3"
                  placeholder="Опишите дополнительные особенности автомобиля..."></textarea>
      </div>
    </fieldset>

    <!-- Изображение и описание -->
    <fieldset>
      <legend>📷 Изображение и описание</legend>

      <div class="form-group">
        <label for="image">Изображение автомобиля</label>
        <input type="file" id="image" th:field="*{image}" accept="image/*" onchange="previewImage(this)">
        <div class="help-text">Поддерживаемые форматы: JPG, PNG, WEBP. Максимальный размер: 10MB</div>
        <img id="imagePreview" class="image-preview" style="display: none;">
      </div>

      <div class="form-group">
        <label for="description">Описание автомобиля</label>
        <textarea id="description" th:field="*{description}" rows="4"
                  placeholder="Подробное описание автомобиля, его особенности и преимущества..."></textarea>
      </div>
    </fieldset>

    <!-- Технические характеристики -->
    <fieldset>
      <legend>🔧 Технические характеристики</legend>

      <div class="form-row">
        <div class="form-group">
          <label for="fuelType">Тип топлива</label>
          <select id="fuelType" th:field="*{fuelType}">
            <option value="">Выберите тип топлива</option>
            <option th:each="fuel : ${fuelTypes}" th:value="${fuel}" th:text="${fuel}"></option>
          </select>
        </div>

        <div class="form-group">
          <label for="engineCapacity">Объем двигателя</label>
          <input type="text" id="engineCapacity" th:field="*{engineCapacity}" placeholder="2.0L, 3.0L...">
          <div class="help-text">Например: 2.0L, 2.2L CDI, 3.0L V6</div>
        </div>
      </div>
    </fieldset>

    <!-- Статус -->
    <fieldset>
      <legend>⚡ Статус и доступность</legend>

      <div class="checkbox-item">
        <input type="checkbox" id="active" th:field="*{active}" checked>
        <label for="active">✅ Активен (доступен для бронирования)</label>
      </div>
    </fieldset>

    <!-- Кнопки -->
    <div style="margin-top: 30px; text-align: center; padding-top: 20px; border-top: 1px solid #dee2e6;">
      <button type="submit" class="btn btn-success">
        ✅ Создать автомобиль
      </button>
      <a href="/admin/vehicles" class="btn btn-secondary">
        ❌ Отмена
      </a>
    </div>
  </form>
</div>

<script>
  function previewImage(input) {
    const preview = document.getElementById('imagePreview');
    if (input.files && input.files[0]) {
      const reader = new FileReader();
      reader.onload = function(e) {
        preview.src = e.target.result;
        preview.style.display = 'block';
      };
      reader.readAsDataURL(input.files[0]);
    } else {
      preview.style.display = 'none';
    }
  }

  // Автоматическое форматирование номерного знака
  document.getElementById('licensePlate').addEventListener('input', function(e) {
    e.target.value = e.target.value.toUpperCase();
  });

  // Валидация года
  document.getElementById('year').addEventListener('input', function(e) {
    const year = e.target.value;
    const currentYear = new Date().getFullYear();
    if (year && (year < 1990 || year > currentYear + 1)) {
      e.target.setCustomValidity('Год должен быть между 1990 и ' + (currentYear + 1));
    } else {
      e.target.setCustomValidity('');
    }
  });
</script>
</body>
</html>